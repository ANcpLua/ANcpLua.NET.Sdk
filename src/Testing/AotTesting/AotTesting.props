<?xml version="1.0" encoding="utf-8"?>
<Project>
  <!-- 
    AOT Testing Configuration
    
    Provides MSBuild properties and package references for enabling and configuring
    Ahead-of-Time (AOT) testing in test projects. This props file allows test projects
    to opt-in to AOT testing capabilities and automatically includes required dependencies.
  -->

  <!-- 
    AOT Testing Properties
    
    EnableAotTesting: Switch to enable/disable AOT testing feature (default: false)
    AotTestingPackageVersion: Version of AOT testing packages (synced from SDK version)
    AotTestProjectsDir: Output directory for AOT test projects (default: intermediate output)
    DefaultAotTestTimeout: Default timeout in seconds for AOT test execution (default: 300s)
  -->
  <PropertyGroup>
    <EnableAotTesting Condition="'$(EnableAotTesting)' == ''">false</EnableAotTesting>
    <AotTestProjectsDir Condition="'$(AotTestProjectsDir)' == ''">$(IntermediateOutputPath)aot-tests/</AotTestProjectsDir>
    <DefaultAotTestTimeout Condition="'$(DefaultAotTestTimeout)' == ''">300</DefaultAotTestTimeout>
  </PropertyGroup>

  <!--
    AOT Testing Package References

    When EnableAotTesting is true, automatically includes the ANcpLua.Roslyn.Utilities.Testing.Aot
    package which provides attributes and utilities for marking and configuring AOT tests.
  -->
  <ItemGroup Condition="'$(EnableAotTesting)' == 'true'">
    <PackageReference Include="ANcpLua.Roslyn.Utilities.Testing.Aot" Version="$(ANcpLuaRoslynUtilitiesTestingVersion)" VersionOverride="$(ANcpLuaRoslynUtilitiesTestingVersion)" />
  </ItemGroup>
</Project>
